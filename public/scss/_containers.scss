@mixin card-panel($size: "none") {
  // border-style: auto;
  // border-width: calc($size-xs - 0.1em);
  padding: $size-xs $size-s;
  // border-color: au;
  border-radius: $size-s;

  // @if $size == "extra-small" {
  //   padding: $size-xxs $size-xs;
  // } @else if $size == "small" {
  //   padding: $size-xs $size-s;
  // } @else if $size == "normal" {
  //   padding: $size-s $size-m;
  // } @else if $size == "large" {
  //   padding: $size-m $size-l;
  // } @else if $size == "extra-large" {
  //   padding: $size-l $size-xl;
  // } @else if $size == "extra-extra-large" {
  //   padding: $size-xl $size-xxl;
  // } @else if $size == "none" {
  //   padding: 0;
  // }

  @if $size == "extra-small" {
    padding: $size-xs;
  } @else if $size == "small" {
    padding: $size-s;
  } @else if $size == "normal" {
    padding: $size-m;
  } @else if $size == "large" {
    padding: $size-l;
  } @else if $size == "extra-large" {
    padding: $size-xl;
  } @else if $size == "extra-extra-large" {
    padding: $size-xxl;
  } @else if $size == "none" {
    padding: 0;
  }
}

.debug-box {
  background-color: red;
  border: solid 2px blue;
}

.grid {
  display: grid;
  row-gap: $size-s;
  column-gap: $size-s;
  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));

  &.home {
    grid-template-columns: 1fr 1fr;
  }

  &.techstack {
    grid-template-columns: repeat(auto-fit, minmax(100px, 4fr));
  }

  &.card-list {
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    row-gap: $size-m;
    column-gap: $size-m;
  }

  &.avatar-select {
    grid-template-columns: repeat(auto-fit, minmax(100px, 4fr));
  }
}

.box {
  display: flex;
  @include card-panel();

  &.v {
    flex-direction: column;
  }

  &.panel {
    @include card-panel("normal");

    &-primary {
      @extend .panel;
      color: $color-light-text;
      background-color: $color-primary;
    }

    &-secondary {
      @extend .panel;
      color: $color-light-text;
      background-color: $color-secondary;
    }

    &-accent {
      @extend .panel;
      color: $color-light-text;
      background-color: $color-accent;
    }

    &-accent-2 {
      @extend .panel;
      color: $color-light-text;
      background-color: $color-accent-2;
    }

    &-dashed {
      @extend .panel;
      border-style: dashed;
      border-color: $color-dark-text;
    }

    &-shadow {
      @extend .panel;
      @include box-shadow($color-dark-text);
    }

    &-positive {
      @extend .panel;
      color: $color-light-text;
      background-color: $color-success;
    }

    &-negative {
      @extend .panel;
      color: $color-light-text;
      background-color: $color-error;
    }

    &.xs {
      @include card-panel("extra-small");
    }

    &.s {
      @include card-panel("small");
    }

    &.m {
      @include card-panel("normal");
    }

    &.l {
      @include card-panel("large");
    }

    &.xl {
      @include card-panel("extra-large");
    }

    &.xxl {
      @include card-panel("extra-extra-large");
    }
  }

  &.full-height {
    height: 70vh;
  }

  &.grow {
    flex-grow: 2;
  }

  &.align-center {
    align-items: center;
  }

  &.align-start {
    align-items: start;
  }

  &.justify-center {
    justify-content: center;
  }

  &.space-between {
    justify-content: space-between;
  }

  &.space-evenly {
    justify-content: space-evenly;
  }

  &.space-around {
    justify-content: space-around;
  }

  &.justify-start {
    justify-content: start;
  }

  &.justify-end {
    justify-content: end;
  }

  &.gap-xs {
    gap: $size-xs;
  }

  &.gap-s {
    gap: $size-s;
  }

  &.gap-m {
    gap: $size-m;
  }

  &.gap-l {
    gap: $size-l;
  }

  &.gap-xl {
    gap: $size-xl;
  }
}

.margin {
  padding: $size-l $size-xl;

  &.main {
    margin-top: calc($size-l + 2rem);
  }
}
.register {
  margin: $size-xxl;
  min-height: 60vh;
  overflow-x: hidden;
}

@media only screen and (max-width: 1200px) {
  .margin {
    padding: $size-m $size-l;
  }

  .register {
    margin: $size-xl;
  }
}

@media only screen and (max-width: 750px) {
  .margin {
    padding: $size-m $size-l;
  }

  .register {
    margin: 0;
  }
}

body > .margin:first-of-type {
  margin-top: calc($size-l + 2rem);
}

.sent-bubble {
  animation-name: slide_from_right;
  animation-duration: 0.4s;
  animation-fill-mode: forwards;

  transform: translateX(100px);
  background-color: $color-secondary;
  color: $color-light-text;

  padding: 12px;
  font-size: 1rem;
  max-width: 80%;
  text-overflow: wrap;

  border-radius: 20px 20px 0px 20px;
}

.received-bubble {
  animation-name: slide_from_left;
  animation-duration: 0.4s;
  animation-fill-mode: forwards;

  transform: translateX(-100px);

  
  color: $color-light-text;
  background-color: $color-primary;

  cursor: pointer;
  padding: 12px;
  font-size: 1rem;
  max-width: 80%; 

  border-radius: 20px 20px 20px 0px;
}

.options {
  position: sticky;
  top: 0;
  width: 100%;
  z-index: 100;
  height: 4em;
  border-radius: 0;
  background-color: $color-secondary;
  padding: 1em 0.5em;
}

.chat-container{
  padding: 0 0.5em;
  padding-top: 6em;
  padding-bottom: 5.5em;
  
  overflow-y: auto;
  overflow-x: hidden;
  overflow-wrap: break-word;
  height: 100%;
  width: 100%;
  flex: 2;
}

.message-box {
  border-radius: $size-m;

  &:focus {
    outline: 0.5px;
  }
}

.message-container {
  background-color: $color-light-text;
  // height: 4em;
  padding: $size-s;
  position: fixed;
  bottom: 0;
  width: 100%;
}

.sent{
  display: flex;
  justify-content: end;
  align-items: center;
  width: 100%;
  margin-bottom: 0.5em;
  gap: $size-s;

  & > .timestamp {
    animation-name: slide_from_right;
    animation-duration: 0.6s;
    animation-fill-mode: forwards;
  }
}


.received {

  display: flex;
  justify-content: start;
  width: 100%;
  margin-bottom: 0.5em;
  align-items: center;
  width: 100%;
  gap: $size-s;

  & > .timestamp {
    animation-name: slide_from_left;
    animation-duration: 0.7s;
    animation-fill-mode: forwards;
  }
}

.chat-main {
  height: 100vh;
}

@media screen and (min-width: 800px) {

  .chat-container {
    padding-right: 10em;
    padding-left: 10em;
  }

}